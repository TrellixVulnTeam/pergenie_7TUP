#!/usr/bin/env python

import imp
import sys
import os

try:
    # TODO: use imp to find path of module
    # path = imp.find_module('pergenie')[1]

    sys.path.append(os.path.join(os.path.normpath(os.path.dirname(__file__)), '../pergenie/'))  # for debug

    import pergenie
    import pergenie.settings.develop as settings
    os.environ.setdefault("DJANGO_SETTINGS_MODULE", "pergenie.settings.develop")

    from django.core.management import execute_manager

    if __name__ == "__main__":
        execute_manager(settings)

except ImportError as e:
    sys.stderr.write("[Error] ImportError: module not found {}\n".format(e))
    sys.exit(1)
