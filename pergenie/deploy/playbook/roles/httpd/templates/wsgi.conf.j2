LoadModule wsgi_module modules/mod_wsgi.so

# Location of UNIX sockets
# https://code.google.com/p/modwsgi/wiki/ConfigurationIssues#Location_Of_UNIX_Sockets
WSGISocketPrefix run/wsgi  # /var/run/wsgi

# TODO: or TraceEnable Off?
# Avoid `http TRACE XSS attack`
RewriteEngine on
RewriteCond %{REQUEST_METHOD} ^(TRACE|TRACK)
RewriteRule .* - [F]
# Avoid `http TRACE XSS attack` end

# TODO:
# Alias /robots.txt /path/to/mysite.com/static/robots.txt
# Alias /favicon.ico /path/to/mysite.com/static/favicon.ico

# Alias /media/ /path/to/mysite.com/media/
# Alias /static/ /path/to/mysite.com/static/

# <Directory /path/to/mysite.com/static>
#   Order deny,allow
#   Allow from all
# </Directory>

# <Directory /path/to/mysite.com/media>
#   Order deny,allow
#   Allow from all
# </Directory>

WSGIDaemonProcess {{ http_server_host }} python-path={{ app_root }}:{{ virtualenv_site_packages }}
WSGIProcessGroup {{ http_server_host }}

WSGIScriptAlias / {{ wsgi_dir }}/wsgi.py

<Directory {{ wsgi_dir }}>
<Files wsgi.py>
  # Apache >=2.4
  # Require all granted

  # Apache <2.4
  Order deny,allow
  Allow from all
</Files>
</Directory>

# TODO:
# <Location /admin>
#   Order deny,allow
#   Deny from all
#   Allow from 127.0.0.1
# </Location>
